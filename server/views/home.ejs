<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/fontawesome/css/all.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>
        <div class="container mt-5">
                <div class="row justify-content-center">
                        <div class="col-md-6">
                                <h1 class="text-center mb-4">QR Code Generator</h1>
                                        <div class="mb-3">
                                                <label for="text" class="form-label">Enter text to generate QR code:</label>
                                                <input type="text" class="form-control" id="inp_text" placeholder="Enter text">
                                        </div>
                                        <button type="button" class="btn btn-primary w-100" onclick="encode()">Generate QR Code</button>
                        </div>
                </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
        <script>
                function encode(){
                        var inp_text = $("#inp_text").val();
                        axios.get('/qr?text='+inp_text).then(function (response) {
                                $("#inp_text").toggleClass("is-invalid",false) 
                                console.log(response.data)
                                Swal.fire({
                                        title: 
                                        `
                                        Papaya is Done!
                                        `,
                                        color: "#716add",
                                        padding: "3em",
                                        width: 600,
                                        background: "#fff url(https://sweetalert2.github.io/images/trees.png)",
                                        backdrop: `
                                        rgba(0,0,123,0.4)
                                        url("https://64.media.tumblr.com/218535119e9aaaa4255184c0c4957f06/f08664aaa1b27bc2-1f/s400x600/529ebe228564ce619349f4b592787d82eedc84cd.gifv)
                                        left top
                                        no-repeat
                                        `,
                                        html: 
                                        `
                                        <div id="qrcode" class="mt-4"><img src="${response.data}"></div>
                                        `,
                                        showCloseButton: true,
                                        focusConfirm: false,
                                        confirmButtonText: 
                                        `
                                        <i class="fa fa-thumbs-up"></i> Great!
                                        `,
                                });
                                
                        }).catch(function (error){
                                Swal.fire({
                                        icon: "error",
                                        title: "Oops...",
                                        text: "Something went wrong!",
                                        footer: '<a href="#">Why do I have this issue?</a>'
                                });
                        });
                }
        </script>
</body>
</html>





